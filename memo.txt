CREATE TABLE roles (
    id SERIAL PRIMARY KEY,
    name VARCHAR(20) UNIQUE NOT NULL -- contoh nilai: "Admin", "User"
);
INSERT INTO roles (name) values('Admin');
INSERT INTO roles (name) values('User');

CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    username VARCHAR(50) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    role_id INT NOT NULL REFERENCES roles(id),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

fafifuwasweswos
INSERT INTO "User"(username, password, role_id) 
VALUES('kapiten', '$2b$10$QPvGKx5yXsM8Iq4LzYepAOKcENcQdNHc7YLQ9LP8uhkk1IeOu0TOa', 1);

INSERT INTO "User"(username, password, role_id) 
VALUES('kapten', '$2b$10$QPvGKx5yXsM8Iq4LzYepAOKcENcQdNHc7YLQ9LP8uhkk1IeOu0TOa', 2);

CREATE TABLE categories (
    id SERIAL PRIMARY KEY,
    name VARCHAR(50) UNIQUE NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE news (
    id SERIAL PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    content TEXT NOT NULL,
    published_by INT REFERENCES users(id),
    published_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP
);

CREATE TABLE news_category_mapping (
    id SERIAL PRIMARY KEY,
    news_id INT REFERENCES news(id),
    category_id INT REFERENCES news_categories(id),
    PRIMARY KEY (news_id, category_id)
);